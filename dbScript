CREATE TABLE `Users` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`Login` varchar NOT NULL,
	`Password` varchar NOT NULL,
	`Email` varchar NOT NULL,
	`Rank` varchar NOT NULL,
	`CarID` INT NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `UserData` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`UserID` INT NOT NULL,
	`Name` varchar NOT NULL,
	`Surname` varchar NOT NULL,
	`Address` varchar NOT NULL,
	`Telephone` varchar NOT NULL,
	`City` varchar NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Association` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`UserID` INT NOT NULL,
	`OrderID` INT NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Orders` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`UserID` INT NOT NULL,
	`Description` VARCHAR(255) NOT NULL,
	`State` varchar NOT NULL,
	`CreateDate` DATE NOT NULL,
	`ModificationDate` DATE NOT NULL,
	`FinishDate` DATE NOT NULL,
	`Location` varchar NOT NULL,
	`Destination` varchar NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Cars` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`RegistrationNumber` varchar NOT NULL,
	`Brand` varchar NOT NULL,
	`Model` varchar NOT NULL,
	`GarageID` INT NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Garage` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`Location` INT NOT NULL,
	PRIMARY KEY (`ID`)
);

ALTER TABLE `Users` ADD CONSTRAINT `Users_fk0` FOREIGN KEY (`CarID`) REFERENCES `Cars`(`ID`);

ALTER TABLE `UserData` ADD CONSTRAINT `UserData_fk0` FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`);

ALTER TABLE `Association` ADD CONSTRAINT `Association_fk0` FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`);

ALTER TABLE `Association` ADD CONSTRAINT `Association_fk1` FOREIGN KEY (`OrderID`) REFERENCES `Orders`(`ID`);

ALTER TABLE `Orders` ADD CONSTRAINT `Orders_fk0` FOREIGN KEY (`UserID`) REFERENCES `Users`(`ID`);

ALTER TABLE `Cars` ADD CONSTRAINT `Cars_fk0` FOREIGN KEY (`GarageID`) REFERENCES `Garage`(`ID`);

